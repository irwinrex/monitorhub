# FILE: haproxy-values.yml

controller:
  # This explicitly creates an IngressClass resource named 'haproxy'.
  # Any Ingress manifest you create must now include `ingressClassName: haproxy`
  # in its spec. This is excellent practice.
  ingressClassResource:
    enabled: true
    name: haproxy
    default: true

  # This tells the controller pods to only handle Ingresses of this class.
  ingressClass: haproxy

  # Deploy as a DaemonSet to run on the node.
  kind: DaemonSet

  # The critical setting for binding to the EC2 instance's IP address.
  hostNetwork: true

  # We are not using a cloud load balancer, so disable the service.
  service:
    enabled: false

  # Your resource requests and limits for production stability.
  resources:
    limits:
      cpu: "256m"
      memory: "256Mi"
    requests:
      cpu: "128m"
      memory: "128Mi"
